需要区别一下, 
- 拥塞控制是对整个网络的,为了防止注入当前网络的流量大于网络的带宽;
- 流量控制是对针对收发双方的, 为的是协调收发双方的传输速率 避免出现接收方来不及接收的情况

## 拥塞控制算法
TCP避免网络拥塞的算法，是互联网上主要的一个拥塞控制措施。它使用一套基于线增积减模式的多样化网络拥塞控制方法（包括慢启动和拥塞窗口等模式）来控制拥塞。

所谓*线增积减*  https://zh.wikipedia.org/wiki/和性增长/乘性降低  指的是将拥塞窗口的线性增长与监测到拥塞时的指数降低相结合。使用线增积减控制的多个流将最终收敛到使用等量的共享链路
采取的方法是**增加传输速率（窗口大小），探测可用带宽，直到发生丢包。加性增长的策略例如可以在每个往返时间将拥塞窗口增长固定量。当检测到拥塞时，发送方将传输速率降低一个乘数**；例如，数据丢失发生时将拥塞窗口降低到一半。结果是锯齿形的，体现带宽的探测。

(具体实施的时候,在慢启动阶段并不是*线增*的 在没有达到门限值ssthresh前都是指数翻倍增加的)
![[assets/image-20230223165853219.png]]

## 流量控制算法
流量控制有两种, 一种是停止等待的方法, 一种是滑动窗口的方法, 前者在互联网是不会使用的, 远距离通信的场景下 连接建立了但是大部分情况下都是空着没有数据传输, 信道利用率过差; 基本上只有内网近距离通信时可能会使用, 主要介绍后一种

收发双方为了提高信道利用率, 采取**一次发送一批报文而不是只发送单独的报文**的方式进行消息传输
收发双方各自维护一个窗口大小, 并且规定发送窗口大小不得大于接收窗口大小, 在接收方每次接收到消息后 会给发送方回传一个ack包, 在这个ack包里将自己的接收窗口大小附带上去
发送方根据接收方返回的接收窗口大小, 动态调整自己的窗口大小
如果接收方返回的接收窗口大小为0 , 表明接收方的buffer已经溢出了, 这个时候发送方停止发送报文, 在经过一段时间后, 发送一个探测报文, 如果返回中接收方窗口大小不为0 则继续发送消息.