超文本传输协议 , 互联网的基石
一个应用层协议, HTTP3.0之前的版本都是基于TCP的
现就各版本特性与进化  讨论总结如下:
![[../Mysql/assets/image-20230129104524590.png]]


## HTTP1.0 from 1996
基于TCP 每次传输文件需要经过TCP建立连接, 三次握手开销高昂
![[../Mysql/assets/image-20230129110727847.png]]



## HTTP1.1 from 1997
- 由于TCP三次握手开销高昂,HTTP1.0推出后的次年 1997年  诞生了HTTP1.1
**通过keep alive 字段  复用同一条TCP链接 时间开销大大减小**
- **HTTP1.1同时推出了 pipeline的概念**  
  每次请求不再需要等待服务端返回后再发送下一个, 而是可以批量发送
  ![[../Mysql/assets/image-20230129105015838.png]]
但是流水线的前提是, 必须按照发送请求的顺序来接受返回
这就诞生了一个问题 head of line blocking
如果先发送的请求, 处理时间过长  后发送的请求明明已经处理完可以发送了  也必须等待(按发送的顺序返回)


## HTTP2.0 from 2015
2.0的优化有两点
**第一点: 解决HTTP1.1中 head of line blocking 的问题**
在应用层, client发送的请求可以并发地给sever  没有先后顺序(摒弃了流水线的概念) 
将这样的报文  称为流   并且流是二进制可压缩的
(然而, 这只是在app层解决了问题  传输层仍然是TCP)

**第二点:  server端可以将已经就绪的数据直接发送给clinet端 无需client端去做拉取**

## HTTP3.0 from 2022
最新的协议, 
**在传输层上摒弃了TCP协议, 改为采用UDP   流成为了一等公民**
这样做的好处是
1. 不用再进行繁重的三次握手了
2. 即使丢包  重发即可 不影响其它包(在传输层终结了head of line blocking问题)
![[../Mysql/assets/image-20230129110659621.png]]


**使用QUIC ConnectionID来标记每次通话,而不是TCP连接**
优化移动端的使用体验, 因为移动端可能会频繁在不同的网络中切换(WIFI  5G ...)
这样在网络切换的时候不需要重新来建立连接了
![[../Mysql/assets/image-20230129110557078.png]]











